# Python API Autotests with Pytest | ĞĞ²Ñ‚Ğ¾Ñ‚ĞµÑÑ‚Ñ‹ Ğ½Ğ° Python  
ğŸ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ğŸ
![Python](https://img.shields.io/badge/Python-3.8%2B-3776AB?logo=python&logoColor=white)
![Pytest](https://img.shields.io/badge/Pytest-Test%20Framework-0A9EDC?logo=pytest&logoColor=white)
![API](https://img.shields.io/badge/API-REST%20Testing-FF6F61?logo=postman&logoColor=white)
![Automation](https://img.shields.io/badge/Automation-100%25-00CC00?logo=automation&logoColor=white)

ğŸ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ğŸ

## ğŸ¯ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸

- âœ… **ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ API** - Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ²
- ğŸš€ **Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹  
- ğŸ“Š **ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** - ĞœĞ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ñ‚ĞµÑÑ‚Ğµ
- ğŸ— **Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** - Ğ›Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ¸ ĞºĞ¾Ğ´Ğ°
- ğŸ”§ **Ğ“Ğ¸Ğ±ĞºĞ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ** - Ğ›ĞµĞ³ĞºĞ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ğ¾Ğ´ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ€ĞµĞ´Ñ‹
- ğŸ“ **Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ** - ĞŸĞ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- ğŸ›¡ **ĞĞ°Ğ´ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ** - Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸ Ğ¿Ñ€ĞµĞ´ÑĞºĞ°Ğ·ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹

## ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | Ğ’ĞµÑ€ÑĞ¸Ñ |
|------------|------------|---------|
| **Python** | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞ·Ñ‹Ğº Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ | 3.8+ |
| **Pytest** | Ğ¤Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ | 7.4+ |
| **Requests** | HTTP-ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² | 2.31+ |
| **JSON** | Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ | - |
| **Fixtures** | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ĞµĞ¼ Ñ‚ĞµÑÑ‚Ğ¾Ğ² | - |
| **Parametrize** | ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | - |

ğŸ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ğŸ

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
Python_Autotest_Api_Pytest/
â”œâ”€â”€ ğŸ“‚ tests/                          # ĞŸĞ°Ğ¿ĞºĞ° Ñ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ ğŸ __init__.py                 # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°ĞºĞµÑ‚Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²
â”‚   â”œâ”€â”€ âš™ï¸ conftest.py                 # Ğ¤Ğ¸ĞºÑÑ‚ÑƒÑ€Ñ‹ Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Pytest
â”‚   â”œâ”€â”€ ğŸ§ª test_trainers.py            # ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ API ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ²
â”‚   â””â”€â”€ ğŸ“‹ static_bodies.py            # Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ Ñ‚ĞµĞ»Ğ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
â”œâ”€â”€ ğŸ” auth_data.py                    # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ API (Ñ‚Ğ¾ĞºĞµĞ½Ñ‹, URL)
â”œâ”€â”€ ğŸ“– README.md                       # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
â””â”€â”€ ğŸ—‘ï¸ .gitignore                      # Ğ˜ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Git
```

### ğŸ“‹ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²:
- **`conftest.py`** - Ğ¤Ğ¸ĞºÑÑ‚ÑƒÑ€Ñ‹ Pytest Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
- **`test_trainers.py`** - Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ² /trainers (GET, PUT, PATCH)
- **`static_bodies.py`** - Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- **`auth_data.py`** - ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº API (Ñ‚Ğ¾ĞºĞµĞ½, URL, headers)
---
## ğŸ¯ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ĞºĞ¾Ğ´Ğ°

### ğŸ”§ Ğ¤Ğ¸ĞºÑÑ‚ÑƒÑ€Ğ° API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
```python
@pytest.fixture
def api_client(base_url, headers):
    class APIClient:
        def get(self, endpoint, **kwargs):
            return requests.get(f"{self.base_url}{endpoint}", headers=self.headers, **kwargs)
    return APIClient(base_url, headers)
```
### ğŸ“Š ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ²
```python
@pytest.mark.parametrize("endpoint", [
    "/trainers",
    "/trainers?limit=5", 
    "/trainers?page=1"
])
def test_status_code(api_client, endpoint):
    response = api_client.get(endpoint)
    assert response.status_code == 200
```
### ğŸ¯ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‚Ñ€ĞµĞ½ĞµÑ€Ğ°
```python
@pytest.mark.parametrize("test_id,expected_name", [
    (39589, "Ash")
])
def test_trainer_by_id(api_client, test_id, expected_name):
    response = api_client.get('/trainers', params={'trainer_id': test_id})
    trainer = response.json()["data"][0]
    assert trainer["trainer_name"] == expected_name
```
### ğŸ“‹ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
```python
PUT_TEST_DATA = [
    {"name": "Ash", "city": "Tokyo"},
    {"name": "Ash Ketchum", "city": "Pallet Town"}
]

PATCH_TEST_DATA = [
    {"name": "Ash"},
    {"city": "Tokyo"}
]
```
### âš¡ Ğ¤Ğ¸ĞºÑÑ‚ÑƒÑ€Ğ° Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
```python
@pytest.fixture
def cleanup_trainer_data(api_client, trainer_id):
    original_response = api_client.get('/trainers', params={'trainer_id': trainer_id})
    original_data = original_response.json()["data"][0]
    
    yield
    
    restore_data = {
        "name": original_data.get("trainer_name", "Ash"),
        "city": original_data.get("city", "Tokyo")
    }
    api_client.put('/trainers', json=restore_data)
```
---
## ğŸ‰ ĞĞ²Ñ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**ĞœĞ°Ğ³Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¾Ñ‚ ZimQA** âœ¨
**Happy testing! ğŸ¯ğŸğŸš€**
